---
import Layout from "../../layouts/Layout.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../../consts";
---

<Layout
  title={`RGB转换Hex工具 | ${SITE_TITLE}`}
  description={`RGB转换Hex工具 | ${SITE_DESCRIPTION}`}
>
  <div
    class="bg-gray-100 min-h-screen flex flex-col items-center justify-center pt-32 pb-32"
  >
    <div class="bg-white p-8 shadow-md w-full max-w-sm card">
      <h1 class="text-2xl font-bold mb-4">RGB 转 Hex</h1>
      <form id="rgbForm" class="flex items-center justify-between">
        <div>
          <label for="r" class="block text-sm font-medium text-gray-700"
            >Red (R)</label
          >
          <input
            type="number"
            id="r"
            name="r"
            min="0"
            max="255"
            class="input input-bordered w-full max-w-xs  mt-2"
          />
        </div>
        <div>
          <label for="g" class="block text-sm font-medium text-gray-700"
            >Green (G)</label
          >
          <input
            type="number"
            id="g"
            name="g"
            min="0"
            max="255"
            class="input input-bordered w-full max-w-xs  mt-2"
          />
        </div>
        <div>
          <label for="b" class="block text-sm font-medium text-gray-700"
            >Blue (B)</label
          >
          <input
            type="number"
            id="b"
            name="b"
            min="0"
            max="255"
            class="input input-bordered w-full max-w-xs mt-2"
          />
        </div>
      </form>
      <div class="text-center mt-4">
        <button
          type="button"
          onclick="convertToHex()"
          class="btn btn-info text-white w-full">转换</button
        >
      </div>
      <div   class="flex mt-4 ">
        <div id="result-color" class="w-16 h-16 border mr-4 hidden"></div>
        <div id="result" class="mt-4 text-center text-lg font-semibold"></div>
      </div>
    </div>
  </div>
</Layout>
<script is:inline>
  function convertToHex() {
    document.getElementById("result-color").style.display = 'block';
    const r = document.getElementById("r")?.value;
    const g = document.getElementById("g")?.value;
    const b = document.getElementById("b")?.value;

    if (r === "" || g === "" || b === "") {
      document.getElementById("result").innerText = "请输入所有值.";
      return;
    }

    const hex = `#${((1 << 24) + (parseInt(r) << 16) + (parseInt(g) << 8) + parseInt(b)).toString(16).slice(1).toUpperCase()}`;
    document.getElementById("result").innerText = `Hex: ${hex}`;
    document.getElementById("result-color").style.backgroundColor = hex;
  }
</script>
